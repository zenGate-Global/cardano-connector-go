package utxorpc

import (
	"encoding/hex"
	"fmt"
	"log"

	"github.com/Salvionied/apollo/serialization/Address"
	"github.com/Salvionied/apollo/serialization/Asset"
	"github.com/Salvionied/apollo/serialization/AssetName"
	"github.com/Salvionied/apollo/serialization/MultiAsset"
	"github.com/Salvionied/apollo/serialization/PlutusData"
	"github.com/Salvionied/apollo/serialization/Policy"
	"github.com/Salvionied/apollo/serialization/Redeemer"
	"github.com/Salvionied/apollo/serialization/TransactionInput"
	"github.com/Salvionied/apollo/serialization/TransactionOutput"
	"github.com/Salvionied/apollo/serialization/UTxO"
	"github.com/Salvionied/apollo/serialization/Value"
	"github.com/Salvionied/cbor/v2"
)

func assetsToApolloValue(lovelace int64, assets map[string]int64) Value.Value {
	val := Value.PureLovelaceValue(lovelace)
	if len(assets) > 0 {
		ma := make(MultiAsset.MultiAsset[int64])
		for unit, quantity := range assets {
			if unit == "lovelace" { // Already handled
				continue
			}
			var policyIDStr string
			var assetNameStr string
			if len(unit) == 56 { // Only policy ID
				policyIDStr = unit
				assetNameStr = "" // Empty asset name
			} else {
				// First 56 characters are policy ID, rest is asset name
				policyIDStr = unit[:56]
				assetNameStr = unit[56:] // This is asset name hex
			}
			policyID := Policy.PolicyId{Value: policyIDStr}
			assetName := AssetName.NewAssetNameFromHexString(
				assetNameStr,
			) // Apollo takes hex here
			if ma[policyID] == nil {
				ma[policyID] = make(Asset.Asset[int64])
			}
			ma[policyID][*assetName] = quantity
		}
		val.AddAssets(ma)
	}
	return val
}

// Helper to convert Plutus script string to Apollo's PlutusData.PlutusV2Script
// applyDoubleCborEncoding means the script is a CBOR string, which itself contains the actual script CBOR
func scriptHexToApolloScriptRef(
	scriptType string,
	scriptHex string,
) (*PlutusData.ScriptRef, error) {
	if scriptHex == "" {
		return nil, nil
	}

	outerCborBytes, err := hex.DecodeString(scriptHex)
	if err != nil {
		return nil, fmt.Errorf(
			"failed to decode outer script hex '%s': %w",
			scriptHex,
			err,
		)
	}

	scriptRefContent := PlutusData.ScriptRef(outerCborBytes)

	return &scriptRefContent, nil
}

func mustDecodeHex(s string) []byte {
	b, err := hex.DecodeString(s)
	if err != nil {
		panic(err)
	}
	return b
}

var discoveryUTxOAddress, _ = Address.DecodeAddress(
	"addr_test1wpgexmeunzsykesf42d4eqet5yvzeap6trjnflxqtkcf66g0kpnxt",
)

var discoveryAssets = map[string]int64{
	"4a83e031d4c37fc7ca6177a2f3581a8eec2ce155da91f59cfdb3bb28446973636f7665727956616c696461746f72": 1,
}

var discoveryScriptRef, _ = scriptHexToApolloScriptRef(
	"PlutusV2",
	"82025909d45909d1010000322223232325333573466e1d20000021323232323232533357346644664646460044660040040024600446600400400244a666aae7c0045288a9991199ab9a00200114a060066ae840044c008d5d1000919919180111980100100091801119801001000912999aab9f00114a02a666ae68cdd79aba100100314a2260046ae88004cc8c8c8c0088cc0080080048c0088cc008008004894ccd55cf8008a5eb804cd5d018019aba1001300235744002aae7400c004dd59aba100333223233232323002233002002001230022330020020012253335573e002297ae0133574060066ae84004c008d5d1000aab9d33232323002233002002001230022330020020012253335573e002297adef6c60132533357346008002266ae80004c00cd5d1001098019aba2002357420024664646460044660040040024600446600400400244a666aae7c0045280a99919ab9a00114a260066ae840044c008d5d1000918019bae35573a0026eacd55cf000801919b8f33371890001b8d00200100237566ae84d5d1000a4410346534e00149858c8d55cf1baa0013232325333573466e1d200200213322332323002233002002001230022330020020012253335573e0022c264a666ae68cc88cdd79ba73235573c6ea8004008dd3991aab9e37540020020086ae840044d5d09aba20011300335744004646aae78dd50009aba1001002004357420022c6aae78008d55ce8009baa357426ae88014dd61aba1003357446ae88004d5d11aba20013235573c6ea8004d5d0800991aab9e37540020082a666ae68cdc3a4008004266664664446646460044660040040024600446600400400244a666aae7c004489400454ccd5cd19baf35573a6ae840040104c014d5d0800898011aba2001001232223002003375a6aae78004004d5d0991aba235744002646aae78dd5000803991bab35742646ae88d5d11aba235744646ae88d5d1000800991aab9e37540020026ae84c8d55cf1baa0010042498584c8c8c8c8c8c8c8c8c94ccd5cd19b87480080084c8c8c8c94ccd5cd19b874801000854ccd5cd199119baf374e646aae78dd50008011ba73235573c6ea8004004c8c8c8c8c80154ccd5cd19b87480000084c8c8c8c8c8c8c8c8c8c8c8c8c92653335573e0022930b1aba20065333573466e1d20000021323232324994ccd55cf8008a4c2c6ae8800cdd70009aba100115333573466e1d20020021324994ccd55cf8008a4c2c2c6aae78008d55ce8009baa001357420026ae880194ccd5cd19b87480000084c8c8c8c92653335573e0022930b1aba2003375c0026ae8400454ccd5cd19b87480080084c92653335573e0022930b0b1aab9e00235573a0026ea8004d5d08008b1aab9e00235573a0026ea8004d5d08008098a999ab9a33223375e6e98008dd3000992999aab9f00110011333573466ebcd55ce9aba10013752910100357440020026eacd5d09aba20083253335573e00220022666ae68cdd79aab9d357420026ea522100357440020026eacd5d08020a999ab9a3371064a666aae7c004520001333573466ebcd55ce9aba1001375291100375a6aae78d5d09bab35573c6ae84005200037566ae84d5d100419b803253335573e002290000999ab9a3375e6aae74d5d08009ba9488100375a6aae78d5d09bab35573c6ae84005200037566ae840112080dac4091533357346644664646460044660040040024600446600400400244a666aae7c0045288a9991199ab9a00200114a060066ae840044c008d5d1000918019bab35573c002002644664646460044660040040024600446600400400244a666aae7c0045288a9991199ab9a00200114a060066ae840044c008d5d1000918019bad35573c002002466e1c0052000332233323222333323232300223300200200123002233002002001322323223300100300222253335573e002266ae8000c0084c8c8c94ccd5cd19baf002001133574066ec0008cc024d55cf0031aab9e00333300822002005357440082a666ae68cdc81bae002375c002266ae80018cccc0208800400cd5d1002002899aba0003333300822001006005357440086aae74008d55ce8021aba10012253335573e004200226666006440026ae84008d5d100100080080191001001000911ba63300337560046eac00488ccc888cccc8c8c8c0088cc0080080048c0088cc008008004c88c8c88cc00400c0088894ccd55cf800899aba000300213232325333573466ebc0080044cd5d019bb00023300935573c00c6aae7800cccc02088008014d5d10020a999ab9a337206eb8008dd7000899aba00063333008220010033574400800a266ae8000ccccc02088004018014d5d10021aab9d00235573a0086ae84004894ccd55cf801080089999801910009aba10023574400400200200644004004002446ea0cdc09bad002375a0020040020040026eacd5d080525eb7bdb18054ccd5cd199119192999ab9a323370e6aae74dd5000a40046ae84d5d100109919192999ab9a3370e90000010a5015333573466e1d2002002132337100020106eb4d5d08008a5135573c0046aae74004dd500089919192999ab9a3370e90000010a99919ab9a00114a29405280a999ab9a3370e90010010a99919ab9a00114a26466e20004020dd69aba10011323370e0100026eb4d5d08008a99919ab9a00114a29445281aab9e00235573a0026ea8004d5d0800991aab9e37540026ae84d5d1191aab9e375400200266e04dd69aba13235573c6ea80040512080c60a35742646ae88d5d10009aba200a1498585858585858d55cf0011aab9d00137546ae84d5d10009aba23235573c6ea8004cc88cc8c8c0088cc0080080048c0088cc008008004894ccd55cf8008b09919192999ab9a3370e90010010a999ab9a3371e00c6eb8d5d080089aba100413005357440082600a6ae88010d55cf0011aab9d0013754646ae84c8d55cf1baa0010013235742646aae78dd50008009aba100100237586ae8401cdd71aba10011635573c0046aae74004dd5191aba13235573c6ea8004004d5d0800991aab9e3754002646464a666ae68cdc3a4004004266446646460044660040040024600446600400400244a666aae7c004584c94ccd5cd199119baf374e646aae78dd50008011ba73235573c6ea8004004010d5d080089aba135744002260066ae88008c8d55cf1baa001357420020040086ae8400458d55cf0011aab9d00137546ae84d5d10029bac357420066ae88d5d10009aba235744002646aae78dd50009aba10013235573c6ea8004010d55cf0011aab9d001375400498183d8799f1b00000189a8e534b6d8799fd8799f581c4e773fd59569b8e154de2fd6ae5b1c4b56dd7957a9d6f77267e06f41ffd8799fd8799fd8799f581c3bd05909969e8c3e98a3b3f8debf8b1f3cb48a1fc32d8541c9340ef3ffffffffd8799fd87a9f581ce579d647711d851e074a36bf6a6e549704287f778e7eab6e769ab515ffffff0001",
)

var ApolloDiscoveryUTxO = UTxO.UTxO{
	Input: TransactionInput.TransactionInput{
		TransactionId: mustDecodeHex(
			"b50e73e74a3073bc44f555928702c0ae0f555a43f1afdce34b3294247dce022d",
		),
		Index: 0,
	},
	Output: TransactionOutput.TransactionOutput{
		PostAlonzo: TransactionOutput.TransactionOutputAlonzo{
			Address: discoveryUTxOAddress,
			Amount: assetsToApolloValue(
				11977490,
				discoveryAssets,
			).ToAlonzoValue(),
			Datum:     nil,
			ScriptRef: discoveryScriptRef,
		},
		PreAlonzo:    TransactionOutput.TransactionOutputShelley{},
		IsPostAlonzo: true,
	},
}

var evalSample1Addr, _ = Address.DecodeAddress(
	"addr_test1wrqlusc0rxkzfz5206j8mvgxqqkyxfl9gtplm3s26eypzqcxsnfs3",
)

func datumHexToApolloDatumOption(datumHex string) *PlutusData.DatumOption {
	if datumHex == "" {
		return nil
	}
	datumBytes, err := hex.DecodeString(datumHex)
	if err != nil {
		log.Fatalf("Failed to decode datum hex: %v", err)
		return nil
	}
	var pd PlutusData.PlutusData
	if err := cbor.Unmarshal(datumBytes, &pd); err != nil {
		log.Fatalf("Failed to unmarshal datum CBOR %s: %v", datumHex, err)
	}
	opt := PlutusData.DatumOptionInline(&pd)
	return &opt
}

var ApolloEvalSample1UTxOs = []UTxO.UTxO{
	{
		Input: TransactionInput.TransactionInput{
			TransactionId: mustDecodeHex(
				"35509191d07f018849fa7d32217b70ae33b49983aea21339850d6fcda31b030b",
			),
			Index: 0,
		},
		Output: TransactionOutput.TransactionOutput{
			IsPostAlonzo: true,
			PostAlonzo: TransactionOutput.TransactionOutputAlonzo{
				Address: evalSample1Addr,
				Amount:  assetsToApolloValue(10000000, nil).ToAlonzoValue(),
				Datum: datumHexToApolloDatumOption(
					"d87981581c9fc430ea1f3adc20eebb813b2649e85c934ea5bc13d7b7fbe2b24e50",
				),
				ScriptRef: nil,
			},
		},
	},
	{
		Input: TransactionInput.TransactionInput{
			TransactionId: mustDecodeHex(
				"75af72128f59d7cae87965399a01fd775fb8f69095cecb5ce45f55b8e3f5052c",
			),
			Index: 0,
		},
		Output: TransactionOutput.TransactionOutput{
			IsPostAlonzo: true,
			PostAlonzo: TransactionOutput.TransactionOutputAlonzo{
				Address: evalSample1Addr,
				Amount:  assetsToApolloValue(10000000, nil).ToAlonzoValue(),
				Datum: datumHexToApolloDatumOption(
					"d87981581c9fc430ea1f3adc20eebb813b2649e85c934ea5bc13d7b7fbe2b24e50",
				),
				ScriptRef: nil,
			},
		},
	},
	{
		Input: TransactionInput.TransactionInput{
			TransactionId: mustDecodeHex(
				"4f070d5ffaa972c554bdbbad5d01ddd032fddf91f8f3262136b8cce0ba3b790a",
			),
			Index: 0,
		},
		Output: TransactionOutput.TransactionOutput{
			IsPostAlonzo: true,
			PostAlonzo: TransactionOutput.TransactionOutputAlonzo{
				Address: evalSample1Addr,
				Amount:  assetsToApolloValue(10000000, nil).ToAlonzoValue(),
				Datum: datumHexToApolloDatumOption(
					"d87981581c9fc430ea1f3adc20eebb813b2649e85c934ea5bc13d7b7fbe2b24e50",
				),
				ScriptRef: nil,
			},
		},
	},
	{
		Input: TransactionInput.TransactionInput{
			TransactionId: mustDecodeHex(
				"f4918fe2de471b137901d6809e849ee920ed9013f7454fd073bd5b632b9596f0",
			),
			Index: 0,
		},
		Output: TransactionOutput.TransactionOutput{
			IsPostAlonzo: true,
			PostAlonzo: TransactionOutput.TransactionOutputAlonzo{
				Address: evalSample1Addr,
				Amount:  assetsToApolloValue(10000000, nil).ToAlonzoValue(),
				Datum: datumHexToApolloDatumOption(
					"d87981581c9fc430ea1f3adc20eebb813b2649e85c934ea5bc13d7b7fbe2b24e50",
				),
				ScriptRef: nil,
			},
		},
	},
}

var ApolloEvalSample1RedeemersExUnits = map[string]Redeemer.ExecutionUnits{
	"spend:0": {Mem: 26285, Steps: 7850649},
	"spend:1": {Mem: 26285, Steps: 7850649},
	"spend:2": {Mem: 26285, Steps: 7850649},
	"spend:3": {Mem: 26285, Steps: 7850649},
}

var ApolloEvalSample1Transaction = "84a8008482582035509191d07f018849fa7d32217b70ae33b49983aea21339850d6fcda31b030b008258204f070d5ffaa972c554bdbbad5d01ddd032fddf91f8f3262136b8cce0ba3b790a0082582075af72128f59d7cae87965399a01fd775fb8f69095cecb5ce45f55b8e3f5052c00825820f4918fe2de471b137901d6809e849ee920ed9013f7454fd073bd5b632b9596f0000181825839009fc430ea1f3adc20eebb813b2649e85c934ea5bc13d7b7fbe2b24e505064b671634d14cb8d543e71dd8eb437a47efb47b0b22882866c420d1a025f365c021a000323a40b58203f42956d83a3940b571b4cf51c6098535b9c7e0b240bf4daaa0fb1c917e8a4370d81825820f4918fe2de471b137901d6809e849ee920ed9013f7454fd073bd5b632b9596f0010e81581c9fc430ea1f3adc20eebb813b2649e85c934ea5bc13d7b7fbe2b24e5010825839009fc430ea1f3adc20eebb813b2649e85c934ea5bc13d7b7fbe2b24e505064b671634d14cb8d543e71dd8eb437a47efb47b0b22882866c420d821b000000022ca6f211a2581c22691d3d969ecf5802226290c2fb98e2bc08522d5b726c1f5f400105a1445465737403581cef6ed47a6917a3cbbeb46561e8853da969343794d66128598a34af2ca14e4275726e61626c65546f6b656e3201111a004c4b40a20584840000d879814d48656c6c6f2c20576f726c6421821966ad1a0077ca99840001d879814d48656c6c6f2c20576f726c6421821966ad1a0077ca99840002d879814d48656c6c6f2c20576f726c6421821966ad1a0077ca99840003d879814d48656c6c6f2c20576f726c6421821966ad1a0077ca99068158eb58e901000032323232323223223225333006323253330083371e6eb8c008c028dd5002a4410d48656c6c6f2c20576f726c642100100114a06644646600200200644a66601c00229404c94ccc030cdc79bae301000200414a226600600600260200026eb0c02cc030c030c030c030c030c030c030c030c024dd5180098049baa002375c600260126ea80188c02c0045261365653330043370e900018029baa001132325333009300b002149858dd7180480098031baa0011653330023370e900018019baa0011323253330073009002149858dd7180380098021baa001165734aae7555cf2ab9f5742ae881f5f6"

var evalSample2Addr, _ = Address.DecodeAddress(
	"addr_test1wrzqlyffcf5yq3htqge9h9k29zv6d7ny0rqam6d4c5eqdfgg0h7yw",
)

var evalSample2ScriptRef, _ = scriptHexToApolloScriptRef(
	"PlutusV2",
	"59010601000032323232323232323232322223253330083371e6eb8cc014c01c00520004890d48656c6c6f2c20576f726c642100149858cc020c94ccc020cdc3a400000226464a66601e60220042930a99806249334c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2065787065637465640016375c601e002600e0062a660149212b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e740016300a37540040046600200290001111199980319b8700100300c233330050053370000890011807000801001118031baa0015734ae6d5ce2ab9d5573caae7d5d0aba201",
)

var ApolloEvalSample2UTxOs = []UTxO.UTxO{
	{
		Input: TransactionInput.TransactionInput{
			TransactionId: mustDecodeHex(
				"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF",
			),
			Index: 0,
		},
		Output: TransactionOutput.TransactionOutput{
			IsPostAlonzo: true,
			PostAlonzo: TransactionOutput.TransactionOutputAlonzo{
				Address:   evalSample2Addr,
				Amount:    assetsToApolloValue(14000000, nil).ToAlonzoValue(),
				Datum:     datumHexToApolloDatumOption("d87980"),
				ScriptRef: evalSample2ScriptRef,
			},
		},
	},
}

var ApolloEvalSample2RedeemersExUnits = map[string]Redeemer.ExecutionUnits{
	"spend:0": {Mem: 15694, Steps: 3776833},
}

var ApolloEvalSample2Transaction = "84A30081825820FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00018182581D70C40F9129C2684046EB02325B96CA2899A6FA6478C1DDE9B5C53206A51A00D59F800200A10581840000D8799F4D48656C6C6F2C20576F726C6421FF820000F5F6"

var evalSample3Addr1, _ = Address.DecodeAddress(
	"addr_test1wqq8ywv7jnzf0uql4s29f6cgzqrcpy0sjn560wjdh0av4fccp0zj6",
)

var evalSample3Addr2, _ = Address.DecodeAddress(
	"addr_test1qpycxt9d7gel0k4mnvaf2kkv0ggmxm57xw4v6dz2krd7anxr5hkplfmepxykzl4c30vy4k9xufmmn8s7jrukzvyclv0shr5358",
)

var evalSample3Addr3, _ = Address.DecodeAddress(
	"addr_test1zrv86ky8cgh6fxyalx6fhktsuweakyqm47tjad9v96x9sqkz4dj9nfc7w9et2y92mddkpak62wn3zmj9eflkp3q5tfsskd40un",
)

var evalSample3Addr4, _ = Address.DecodeAddress(
	"addr_test1qzga90w88cw7p5kvwaknm3893k6ap672xaed4szj4fylmjxz4dj9nfc7w9et2y92mddkpak62wn3zmj9eflkp3q5tfsskuvgvd",
)

var evalSample3ScriptRef1, _ = scriptHexToApolloScriptRef(
	"PlutusV2",
	"5902c70100003323232323232323223222533300532323232323253323300c32533300d300200114a22a66601a66e1d200400114a22a6601c921394d7573742062652065786563757465642061732061206d696e74696e6720706f6c696379206f72207374616b696e672076616c696461746f720014a0601c6ea8c048c04c01454ccc0314ccc030c8c8cc004004010894ccc04c004528099299980819baf0043012301600214a2266006006002602c00264a66601a6004601e6ea80044cdd2a40006602466e9520023301230133010375400297ae04bd700a998072492a4e6f207374616b696e672076616c696461746f7220666f756e6420696e20626561636f6e20696e70757400163012301330133013300f375460246026601e6ea8c94ccc034c008c03cdd50008980998081baa001153300e490129426561636f6e20746f6b656e206e6f7420666f756e64206173207265666572656e636520696e7075740016323300100100422533301200114c0103d87a80001323253330103233001001300b3756602e603060286ea8c05cc060c050dd500191299980b0008a5013253330133371e6eb8c064008044528899801801800980c800899ba548000cc0540092f5c0266008008002602c0046028002294454cc035240124426561636f6e20736372697074206d7573742062652077697468647261776e2066726f6d0014a0294454cc0352411e426561636f6e207374616b6520657865637574696f6e206d697373696e670014a06e1d200014a06eacc040c044c044c044c044c044008dd61807800980798059baa300e001300a3754006600200244a666016002297ae013300c3009300d00133002002300e001149854cc0192411856616c696461746f722072657475726e65642066616c73650013656375c002ae695ce2ab9d5573caae7d5d02ba157449811e581ca168982cd17c45df7c468b527c32b0d3f97b8c297184c8860445e8ee0001",
)

var evalSample3ScriptRef2, _ = scriptHexToApolloScriptRef(
	"PlutusV2",
	"5916db010000333232323232323232323223223222533300832323232323232323232323232323253330173370e9002180c9baa301d301e0021323300100100222533301d00114a2264a6660346464646464646464a66604c00229444c94ccc09c00454cc09124012e5377617073206d75737420686176652065786163746c79207468726565206b696e6473206f6620626561636f6e730014a0264a6660500022a6604a92012e5377617073206d75737420686176652065786163746c79207468726565206b696e6473206f6620626561636f6e730014a02a66605060560022646464a66604ea66604e66ebc020cdd2a4004660586ea40912f5c0294454cc0a124125426561636f6e73206d757374206265206c6f636b656420696e2073776170207363726970740015330283372c92010953656e7420746f3a2000301600815330283372c9211353686f756c642062652073656e7420746f3a200030163752048294054ccc09d4ccc09d4ccc09cc074c0a4dd50038a5114a0294454cc0a1240126426561636f6e73206d75737420686176652061207374616b65206b65792061747461636865640014a0266602604401601429405281816001981580198150018a99812a492e5377617073206d75737420686176652065786163746c79207468726565206b696e6473206f6620626561636f6e730014a06054002605200264a666044602060486ea800452f5bded8c026eacc0a0c094dd500099198008008031129998138008a60103d87a80001323232325333027337220440042a66604e66e3c0880084c050cc0b0dd3000a5eb80530103d87a8000133006006003375660520066eb8c09c008c0ac008c0a4004c098c09c008c094004c084dd51812002181198120011bab30220013022001301d375460400042660060060022940c08000454cc0612401274d7573742062652065786563757465642061732061207374616b696e672076616c696461746f72001637586038603a603a60326ea8c070004c060dd500719191919191911119299980f180a18101baa0011325333023001153302001e1613232533302500115330220201613232533302700115330240221613232533302900115330260241613232533302b00115330280261613232533302d001153302a0281613232533302f001153302c02a16132325333031001153302e02c16132325333033001153303002e161323253330350011533032030161323253330370011533034032161325333038303b00215333034302a3036375400a264a6660720022a6606c0682c26464a6660760022a6607006c2c264a666078607e00426464a66466076a6660766062607a6ea8c8c8c8c8c8c94ccc104c01cc10cdd51823982400109817198231ba733046375000a6608c6ea000ccc118dd4000a5eb812f5c02a660849211d5554584f206973206d697373696e672076616c696420626561636f6e730014c103d87a8000375a608c002608c0046eb4c110004c110008dd6982100099981381025eb84101000081010000810100008103d879800011191919191919191929919982318008160991919192999825180818261baa30500041533304a0021533304a00313304f37500166609e6ea0024cc13cdd4003998279998252514c103d87a80004c0103d87980004bd700008008008806980718251baa304e304f002300d30493754609a609c609c00266606401097ae10103d87980008103d87980008103d87980001119191919192991998271800816899829999827181e00326103d87a80004c0103d87980003305333304e0034c0103d87a80004c0103d87980003305333304e0024c0103d87a80004c0103d87980004bd700a9998271800813899829999827002a6103d87a80004c0103d87980003305333304e303c0064c0103d87a80004c0103d87980003305333304e0024c0103d87a80004c0103d87980004bd700a9998271800810899829999827002a6103d87a80004c0103d87980003305333304e0034c0103d87a80004c0103d87980003305333304e303c0064c0103d87a80004c0103d87980004bd700a99827a481165554584f206861732077726f6e6720626561636f6e730014bd708103d87980008103d87980008103d87980001b8f375c609e00e6024609c6ea8c148c14c008c044c134dd518288009828801980798259baa304f002375a60960042a64646660906066016264a666092607e60966ea80044c94c8ccc12cc0180a04cc140dd41802801198281ba800a3305037506002004660a066609600e980103d87a80004c0103d87980004bd700a99982598030110998281ba800c3305037506008004660a06ea0c004008cc140ccc12c01d30103d87a80004c0103d87980004bd700998281ba800c330503750014660a06ea0c004008cc140ccc12c01d300103d87a80004c0103d87980004bd701b80007375a609e60986ea800454cc12924012865787065637420536f6d65286e29203d20646963742e67657428746e735f646963742c20232222290016323300100100b22533304e00114c0103d87a8000132323232533304e33722911000021533304e30390021303b33053375000297ae014c103d87a8000133006006003375a60a00066eb8c138008c148008c14000454ccc1214ccc120c00c0944c00c07c5280a9998260050a99824a49284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d879800009929998268008991919299982619b8f0020271330513750600c002660a26ea002ccc144dd400499828999826004260103d87a80004c0103d87980004bd700a99982619b8f002021133051375001a660a26ea0c014004cc144dd400499828999826004260103d87a80004c0103d87980004bd700a99826a481284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980001bad304e002375c6098002609e0162a66609a60a00022646464646464a66609e66e3c0100a854ccc13ccdc780101209982a1ba830090033305437506010002660a86ea0030cc150ccc13c02d300103d87a80004c0103d87980004bd700a998282481284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980000a99982799b8f0040241533304f3371e0040542660a86ea0c024004cc150dd418040019982a1ba800c3305433304f00b4c0103d87a80004c0103d87980004bd700a998282481284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980000a99828249284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980001bad3051004375c609e0066eb4c13c00cdd71826801182800118278058a998252481284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d879800018278050a99982418018128a9998260050a99824a481284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980000a999826182780509919299982519b8f375c609800404a26609e6ea0c010004cc13cdd4004998279ba80073304f33304a0064c0103d87a80004c0103d87980004bd700a99825a481284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980001bad304c001304e00a1533049491284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980000a999824180180f8a9998260050a99824a49284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980000a999826182780509919299982519b8f375c609800403e26609e6ea002ccc13cdd41801800998279ba80073304f33304a0064c0103d87a80004c0103d87980004bd700a99825a481284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980001bad304c001304e00a1533049491284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980000a99824a49284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980001b80006370000e6e3c020c028c118dd5182518258011bad30490013049002375a608e002608e0086eb4c11400cdd598208019bae303f00214a2294054ccc0ed4ccc0ecccc0eccdd78018012504a2294454cc0f1241274f666665722061737365742063616e6e6f742062652073616d652061732061736b2061737365740014a02a664646607aa66607a66e3c070cc0980140105288a9981f24811157726f6e6720706169725f626561636f6e00153303e3372c9201076f666665723a2000302c005153303e3372c9210561736b3a2000302c004153303e3002302c37526604c00a0082a6607c600260586ea40705280a99981ea99981e99b8f0163302501a01814a22a6607c66e5924011757726f6e67206f666665725f626561636f6e20666f722000302c375266e2806806054cc0f8c008c0b0dd49981280d00c0a9981f180098161ba901614a02a66607aa66607a66e3c040cc0900500485288a9981f19b964911057726f6e672061736b5f626561636f6e00302c375266e2805004854cc0f8c008c0b0dd49981200a0090a9981f180098161ba901014a02a66607aa66607a600600c294454cc0f92411e737761705f70726963652064656e6f6d696e61746f72206e6f74203e20300014a02a66607a6006010294454cc0f924011c737761705f7072696365206e756d657261746f72206e6f74203e20300014a029405280a50372c9210a52656365697665643a2000372c92010f57617320657870656374696e673a200014a02940dc4240002940c098cc0f8dd48081981f1ba900e4bd7018129981e9ba90153303d375202697ae01533039037163253333330400011533039037161533039037161533039037161375a0022a6607206e2c607a002607a00464a66666607c0022a6606e06a2c2a6606e06a2c2a6606e06a2c26eb400454cc0dc0d458c0ec004c0dcdd50028a9981a8198b0a9981a8198b19299999981e0008a9981a8198b0a9981a8198b0a9981a8198b0a9981a8198b09bae0013039001303900232533333303a0011533033031161533033031161533033031161533033031161375c002606e002606e00464a66666607000220022a6606205e2c2a6606205e2c2a6606205e2c2a6606205e2c606a002606a00464a66666606c0022a6605e05a2c2a6605e05a2c2a6605e05a2c2a6605e05a2c26eb8004c0cc004c0cc008c94cccccc0d000454cc0b40ac5854cc0b40ac5854cc0b40ac5854cc0b40ac584dd7000981880098188011929999998190008a998158148b0a998158148b0a998158148b0a998158148b09bae001302f001302f0023253333330300011533029027161533029027161533029027161533029027161375c002605a002605a00464a66666605c0022a6604e04a2c2a6604e04a2c2a6604e04a2c2a6604e04a2c26eb8004c0ac004c0ac008c94cccccc0b000454cc09408c5854cc09408c5854cc09408c5854cc09408c584dd7000981480098148011929999998150008a998118108b0a998118108b0a998118108b0a998118108b09bae00130270013027002325333333028001153302101f16153302101f16153302101f161375a0022a6604203e2c604a00260426ea800454cc07c07458c94cccccc098004400454cc07c0745854cc07c0745854cc07c0745854cc07c074594ccc074cdc3a4008603e6ea80044c08cc080dd50008a9980f24925416c6c207377617020646174756d73206d75737420626520696e6c696e6520646174756d73001622372866e2922101020033714004002446e50cdc5245010100337140040024464646e50cdc519b8a33714600a6eb8c084008dd71810981100118029bae3021001375c60426044002603a6ea8008c070dd50011299980b98010008a450100001001371e91010022232333001001004003222533301e002100113330030033021002330043020002001374a90001b87480088dcc99801000a441003001001222533333301a00213232323232323300d0020013371491010128000025333016337100069007099b80483c80400c54ccc058cdc4001a410004266e00cdc0241002800690068a9980ba4929576861742061726520796f7520646f696e673f204e6f2049206d65616e2c20736572696f75736c792e001653330190011337149101035b5d2900004133714911035b5f2000375c6036603866600e00266034980102415d003301a375266e2922010129000044bd70111980e26103422c20003301c375266601001000466e28dd718050009bae300b0014bd701bac3017002375a602a0026466ec0dd4180a8009ba730160013754004264a66602e002266e292201027b7d00002133714911037b5f2000375c6032603464646600200200644a6660340022006266446603a98103422c20003301d3752666012012603400466e292201023a2000333009009301b002337146eb8c02c004dd71806000a5eb80c070004cc008008c074004cc0613010342207d0033018375200497ae03756004264a66602e002266e29221025b5d00002133714911035b5f2000375c6032603466600a00266030980102415d0033018375200497ae0223301a4c0103422c20003301a375266600c00c00466e28dd718040009bae30090014bd701bac002133007375a0040022646466e292210268270000132333001001337006e3400920013371491101270000322253330163371000490000800899191919980300319b8000548004cdc599b80002533301933710004900a0a40c02903719b8b33700002a66603266e2000520141481805206e0043370c004901019b8300148080cdc70020011bae00222232330010010042253330170011004133003301900133002002301a0012301400123013301400122323300100100322533300f30050011337149110130000031533300f337100029000099b8a489012d003300200233702900000089980319b8400148050cdc599b803370a002900a240c00066e1d20003001001222533300b3371200490000800899980180199b8400248050cdc599b803370a004900a240c00022930a99804a491856616c696461746f722072657475726e65642066616c73650013656375c0026eb8005241de6578706563742053776170446174756d207b0a20202020706169725f626561636f6e2c0a202020206f666665725f69642c0a202020206f666665725f6e616d652c0a202020206f666665725f626561636f6e2c0a2020202061736b5f69642c0a2020202061736b5f6e616d652c0a2020202061736b5f626561636f6e2c0a20202020737761705f70726963653a20526174696f6e616c2870726963655f6e756d2c2070726963655f64656e292c0a202020202e2e0a20207d3a2053776170446174756d203d206765745f696e6c696e65286f75747075745f646174756d29005734ae7155ceaab9e5573eae815d0aba257489811e581cd87d5887c22fa4989df9b49bd970e3b3db101baf972eb4ac2e8c5802004c011e581caacd6c58a4894b4ca6c3ea429fcd4318b301d9c0eec7f031d08a07800001",
)

var evalSample3ScriptRef3, _ = scriptHexToApolloScriptRef(
	"PlutusV2",
	"591b6201000033232323232323232323232232232323223232322533300e3232323232323232323232323232323232323232323232325333026301f0151323232323232323232533302f3300c020303530323754606a60646ea8c0d400c54ccc0bcccc0280040100084cc0640ac0185280a50330143758606800e6068606a0106eb0c0ccc0d0004c0cc008dd59818800981898188011bab302f001302f302f302f302f001302a3754605a00260526ea806454ccc098c06c0544c8c8c8c8c8c8c94ccc0b4cc028078c0ccc0c0dd5181998181baa30330031533302d3330080010040021533302d330090043015330323374a9001198191ba90294bd7025eb805288a9981724812c426561636f6e20736372697074206e6f74206578656375746564206173207374616b696e67207363726970740014a02940528198091bac30320053032303300637586062606400260620046eacc0bc004c0bcc0bcc0bcc0bcc0bcc0bc004c0a8dd5181680098149baa019153330263370e900200a899191919191929998162999816181098171baa3032303300614a22a6605a920116546865205554584f206d757374206265207370656e740014a02a666058a666058666058602e038941288a51153302d49012c457874656e73696f6e206669656c64206d7573742062652070726573656e7420696e2074686520646174756d0014a02a666058a666058a6660586601000460286606266e95200233031375203897ae04bd700a5113301800101c14a22a6605a92126457874656e73696f6e206d75737420617070726f766520746865207472616e73616374696f6e0014a026602c05000829405280a5037586062606460640046eacc0c0004c0c0c0c0008dd59817000981718171817181718151baa302d00130293754032264646464646466446464646464646464646464646464646464646464646464646464646464646464a66609c604e60a06ea8c15003c54ccc13802054ccc1394ccc1394ccc138c0e40745288981c80b8a511533304e33712900019b8100300a14a22a6609e921194164612063616e206f6e6c79206265206465706f73697465640014a02a66609ca66609c66e24cdc100080899b8200201014a22a6609e9201145377617020726174696f20696e636f727265637400153304f4912e2861736b5f6f202d2061736b5f6929202f20286f666665725f69202d206f666665725f6f29203e3d20707269636500153304f3372c92010761736b5f6f3a2000302c004153304f3372c9210761736b5f693a2000302c00b153304f3372c921096f666665725f693a2000302c00d153304f3372c921096f666665725f6f3a2000302c006153304f32323372c002605c02466e58005241012f003372c9210770726963653a2000302c01114a02a66609c66e25200000214a22a6609e92012b5468652061736b2061737365742063616e6e6f742062652074616b656e2066726f6d20746865207377617000153304f3372c92010b61736b5f676976656e3a2000302c00214a029405280a5014a066e04030014cdc08010049bad30513052002375a60a000260a00046eb4c138004c138008c07cc120dd51826000992999823181f98241baa0011323304c3330474a298103d87a80004c0103d87980003304c304d0013304c304d304e0013304c304d304e304e0014bd701bac304c30493754002297ae10103d87980008101000081010000810100001919198008009bac304d304e304e01d22533304c0011533049490123436f72726573706f6e64696e672073776170206f7574707574206e6f7420666f756e640014c103d87a800013232323232533304d533304d3375e04060a60082a66609a66ebc020004528899299982718238008a99827a48110446174756d206973206d697373696e670014a02a66609c60860022a6609e920114446174756d206d75737420626520696e6c696e650014a02a6609e92113446174756d20646f65736e2774206d617463680014a0609e6ea80045280992999827182398281baa001130363305330543051375400297ae0153304f49011d5377617020636f6e7461696e7320696e76616c6964206f7574707574730014c103d87a800033333333302500204901e01c01a01801601401213300700700530523053002375660a200260a200260986ea8c13c008c13c004cdd2a40086609407e97ae0375a609460960046eb4c124004c124008dd698238009823800992999820181c98211baa001132330463330414a298103d87a80004c0103d87980003304630470013304630473048001330463047304830480014bd701bac304630433754002297ae10103d879800081010000810100008101000019999999980b80981d8080070060050040030021bad30443045002375a6086002607e6ea8c108c10c008dd7182080098208011bae303f001303f002375c607a002607a0046eb8c0ec004c0ec008dd7181c800981c8011bae30370013037002375c606a002606a60626ea80a0dd598191819800981900098171baa30313032302e375460626064660246eb0c0c4004c0c4c0c8008c0b4dd5181800098161baa01c2222222223232323232325333037301030393754607a607c0042603e660786e9ccc0f0dd40029981e1ba80033303c375000297ae04bd700a9981c24811d5554584f206973206d697373696e672076616c696420626561636f6e730014c103d87a8000375a607800260780046eb4c0e8004c0e8008dd6981c000999805804a5eb84101000081010000810100008103d879800011191919191919191929919981e18008098991919192999820180c98211baa3046004153330400021533304000313304537500166608a6ea0024cc114dd4003998229998202514c103d87a80004c0103d87980004bd700008008008806980b98201baa304430450023016303f375460866088608800266602c01097ae10103d87980008103d87980008103d8798000111919191919299199822180080d099824999822181c80326103d87a80004c0103d8798000330493330440034c0103d87a80004c0103d8798000330493330440024c0103d87a80004c0103d87980004bd700a999822180080b899824999822002a6103d87a80004c0103d87980003304933304430390064c0103d87a80004c0103d8798000330493330440024c0103d87a80004c0103d87980004bd700a999822180080a099824999822002a6103d87a80004c0103d8798000330493330440034c0103d87a80004c0103d87980003304933304430390064c0103d87a80004c0103d87980004bd700a99822a481165554584f206861732077726f6e6720626561636f6e730014bd708103d87980008103d87980008103d87980001b8f375c608a00e603660886ea8c120c124008c068c10cdd518238009823801980c18209baa3045002375a60820042a646466607c6052016264a66607e607060826ea80044c94c8ccc104c0180584cc118dd41802801198231ba800a33046375060020046608c66608200e980103d87a80004c0103d87980004bd700a99982098030098998231ba800c33046375060080046608c6ea0c004008cc118ccc10401d30103d87a80004c0103d87980004bd700998231ba800c3304637500146608c6ea0c004008cc118ccc10401d300103d87a80004c0103d87980004bd701b80007375a608a60846ea800454cc10124012865787065637420536f6d65286e29203d20646963742e67657428746e735f646963742c20232222290016323300100100b22533304400114c0103d87a80001323232325333044337229110000215333044302f0021302c33049375000297ae014c103d87a8000133006006003375a608c0066eb8c110008c120008c11800454ccc0f94ccc0f8c00c04c4c00c0405280a9998210050a9981fa49284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d879800009929998218008991919299982119b8f0020161330473750600c0026608e6ea002ccc11cdd400499823999821004260103d87a80004c0103d87980004bd700a99982119b8f002013133047375001a6608e6ea0c014004cc11cdd400499823999821004260103d87a80004c0103d87980004bd700a99821a481284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980001bad3044002375c6084002608a0162a666086608c0022646464646464a66608a66e3c01006454ccc114cdc780100b0998251ba830090033304a37506010002660946ea0030cc128ccc11402d300103d87a80004c0103d87980004bd700a998232481284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980000a99982299b8f004016153330453371e0040322660946ea0c024004cc128dd41804001998251ba800c3304a33304500b4c0103d87a80004c0103d87980004bd700a998232481284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980000a99823249284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980001bad3047004375c608a0066eb4c11400cdd71821801182300118228058a998202481284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d879800018228050a99981f18018098a9998210050a9981fa481284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980000a999821182280509919299982019b8f375c608400402826608a6ea0c010004cc114dd4004998229ba8007330453330400064c0103d87a80004c0103d87980004bd700a99820a481284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980001bad3042001304400a153303f491284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980000a99981f18018080a9998210050a9981fa49284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980000a999821182280509919299982019b8f375c608400402226608a6ea002ccc114dd41801800998229ba8007330453330400064c0103d87a80004c0103d87980004bd700a99820a481284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980001bad3042001304400a153303f491284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980000a9981fa49284e6f2065787472616e656f75732061737365747320616c6c6f77656420696e20746865205554584f0014bd708101000081010000810100008103d87980001b80006370000e6e3c020c04cc0f0dd5182018208011bad303f001303f002375a607a002607a0086eb4c0ec00cdd5981b8019bae3035002371090001111919980080080200191129998180010800899980180198198011980218190010009111929998149919299981598120010992999816181298171baa001132533302d3026302f375400226603200c6eb8c0ccc0c0dd5000801981918179baa0010023031302e37540060022a666054604600226600c0086060605a6ea800852818159baa00114a22a660549201225374616b696e672063726564656e7469616c20646964206e6f7420617070726f76650014a0605c605e60566ea800c88c8cc00400400c894ccc0b0004528099299981499baf004302b302f00214a2266006006002605e00244a66604a66e24009200014a22a66604a6034604e6ea80044c94ccc098cdc40018008a5115330273372c9211553776170206973206c6f636b656420756e74696c2000300400315330273372c9211043757272656e742074696d652069732000300400114a06eb4c0acc0a0dd50008a9981324813053776170206973206c6f636b656420616e64207472616e73616374696f6e206973206d697373696e6720626f756e64730014a046e64cc008dd4000a441003001001222533333302b00213232323232323300c0020013371491010128000025333027337100069007099b80483c80400c54ccc09ccdc4001a410004266e00cdc0241002800690068a9981424929576861742061726520796f7520646f696e673f204e6f2049206d65616e2c20736572696f75736c792e0016533302a0011337149101035b5d2900004133714911035b5f2000375c6058605a66600e00266056980102415d003302b375266e2922010129000044bd701119816a6103422c20003302d375266601001000466e28dd718088009bae300a0014bd701bac3028002375a604c0026466ec0dd418130009ba730270013754004264a666050002266e292201027b7d00002133714911037b5f2000375c6054605664646600200200644a6660560022006266446605c98103422c20003302e3752666012012605600466e292201023a2000333009009302c002337146eb8c048004dd71805800a5eb80c0b4004cc008008c0b8004cc0a53010342207d0033029375200497ae03756004264a666050002266e29221025b5d00002133714911035b5f2000375c6054605666600a00266052980102415d0033029375200497ae0223302b4c0103422c20003302b375266600c00c00466e28dd718078009bae30080014bd701bac002133006375a0040022646466e292210268270000132333001001337006e3400920013371491101270000322253330273371000490000800899191919980300319b8000548004cdc599b80002533302a33710004900a0a40c02903719b8b33700002a66605466e2000520141481805206e0043370c004901019b8300148080cdc70020011bae00222232330010010042253330280011004133003302a00133002002302b001230253026001223233001001003225333021301a00113371491101300000315333021337100029000099b8a489012d003300200233702900000089980299b8400148050cdc599b803370a002900a240c00066002002444a66603c66e2400920001001133300300333708004900a19b8b3370066e1400920144818000488c088c07cdd518111811980f9baa302230233300300200122533301b3010301d375400226464a66603a602c603e6ea80044cc088008cc088c08cc080dd5000a5eb8054cc0792411b436f756c64206e6f742066696e642073637269707420696e7075740016323300100100422533302200114c0103d87a80001323253330203375e601260466ea80080144c020cc0940092f5c0266008008002604c00460480026042603c6ea800454cc071241125554584f206d757374206265207370656e740016374a90001180f00091299980c198021802991980080080111299980f0008a5eb7bdb1804c8c8c8c94ccc078cdc8a45000021533301e300900210031005133023337606ea4008dd3000998030030019bab3020003375c603c00460440046040002004294454cc0652412c426561636f6e20736372697074206e6f74206578656375746564206173206d696e74696e6720706f6c6963790014a06e3d22010022323300100100322533301c00114a0264a66603266e3cdd7180f8010020a51133003003001301f001300100122533301800114bd7009980c980b180d00099801001180d80098099baa007375c602c602e602e602e602e602e602e602e602e602e0046eb4c054004c044dd50040a4c2a6601e9211856616c696461746f722072657475726e65642066616c7365001365632533300d300600115333011301037540062930a998070058b0a99980698010008a99980898081baa003149854cc03802c5854ccc034cdc3a40080022a66602260206ea800c526153300e00b161533300d3370e90030008a99980898081baa003149854cc03802c5854cc03802c58c038dd50011b87480094cccccc048004400454cc02c0205854cc02c0205854cc02c0205854cc02c020594ccc020c004c028dd500109929998068008a998050040b0991929998078008a998060050b0991929998088008a998070060b0991929998098008a998080070b09919299980a8008a998090080b09919299980b8008a9980a0090b09919299980c8008a9980b00a0b09919299980d8008a9980c00b0b09919299980e8008a9980d00c0b09919299980f8008a9980e00d0b0991929998108008a9980f00e0b0992999811181280109924ca66603c602e60406ea80144c94ccc08c00454cc080078584c8c94ccc09400454cc088080584c94ccc098c0a400852615330230211632533333302a0011533023021161533023021161533023021161375a0022a660460422c604e002604e00464a6666660500022a6604203e2c2a6604203e2c2a6604203e2c26eb400454cc08407c58c094004c084dd50028a9980f80e8b0a9980f80e8b1929999998130008a9980f80e8b0a9980f80e8b0a9980f80e8b0a9980f80e8b09bae00130230013023002325333333024001153301d01b16153301d01b16153301d01b16153301d01b161375c0026042002604200464a66666604400220022a660360322c2a660360322c2a660360322c2a660360322c603e002603e00464a6666660400022a6603202e2c2a6603202e2c2a6603202e2c2a6603202e2c26eb8004c074004c074008c94cccccc07800454cc05c0545854cc05c0545854cc05c0545854cc05c054584dd7000980d800980d80119299999980e0008a9980a8098b0a9980a8098b0a9980a8098b0a9980a8098b09bae0013019001301900232533333301a0011533013011161533013011161533013011161533013011161375c002602e002602e00464a6666660300022a6602201e2c2a6602201e2c2a6602201e2c2a6602201e2c26eb8004c054004c054008c94cccccc05800454cc03c0345854cc03c0345854cc03c0345854cc03c034584dd70009809800980980119299999980a0008a998068058b0a998068058b0a998068058b0a998068058b09bae00130110013011002325333333012001153300b00916153300b00916153300b009161375a0022a660160122c601e00260166ea800854cc02401c58dc3a4000a66666601c00220022a6600e00a2c2a6600e00a2c2a6600e00a2c2a6600e00a2c6eb80052411672656465656d65723a205377617052656465656d657200490110646174756d3a2053776170446174756d005734ae7155ceaab9e5573eae815d0aba257489811e581caacd6c58a4894b4ca6c3ea429fcd4318b301d9c0eec7f031d08a07800001",
)

var evalSample3ScriptRef4, _ = scriptHexToApolloScriptRef(
	"PlutusV2",
	"590de301000033232323232323232323223223232322533300932323232323232323232323232323232533301953330193330193375e6e9c0053010180004a09445288a9980d2481234174206c65617374206f6e652073776170206d7573742062652076616c6964617465640014a02a66603264a666034a666034646002603a6ea8c084c8ccc004004010cc084ccc07128a6103d87a80004c0103d879800033021374e00a97ae02225333022002100113330030033025002323232330263330215333021300730233754604e00820022941300103d87a80004c0103d879800033026302730280024bd70180318111baa30260013232323232323232330010013758605a605c01444a666058002297ae1103d87980008101800009919299981519299981599baf3031302e375400600c266e1c00401c52819980b1bab30303031302d375400401000e26605e66605494530103d87a80004c0103d87980003302f374e00297ae01323303033302b3011302d37546062002980103d87a80004c0103d879800033030374e660600066eb0c0c4c0c80052f5c0660080080026060004605c002602466054602466054605600c97ae03302a30123302a30123302a30123302a302b302c0064bd7025eb812f5c097ae0333010375660540080040026eb8c0a4c0a8008dd7181400098141814181400098119baa002302237546464a666042603660466ea80044c054dd6181398121baa00115330223372c9211652656465656d6572206d697373696e6720666f723a200037320042c646600200201044a66604c002298103d87a80001323253330243371e6eb8c05c0080144c044cc0a4dd380125eb804cc010010004c0a8008dd618140009bae30253026302630263026302630263022375400260480046e21200014a229405288a9980da481214e6f7420616c6c2073776170732068617665206265656e20666f727761726465640014a0646600200202a44a66603e002297ae0133020374e64660426ea4dca191998008009bac302032337606ea0c080004dd398108009baa0024890022253330230021001133300300330260023233714004002646a6666660500022ecc5d98bb312323300100132333001001375a00697ae022253330255333025301f00214a22603e9040020800899980180199b830024820010cc0a8dd419b860024820010004894ccc09c004522010013322337160040026eb4c0a4004cc008008c0a80045d7000981280119810800a5eb80c084004cc008008c0880044c8cc004004008894ccc07c004528899299980e1919191929998102999810180d0008a51153330203371e0049110013371000290406d62048a5014a22a660429201125377617020697320696e636f6d706c6574650014a06660166eacc09400c004dd7181298130011bae30240013024001301f375460440042660060060022940c0880045280a503232330010013758604000844a66603e002297ae013232533301d300b301f3754002266008008004266044604660406ea8004cc010010008c94ccc074c05cc07cdd50008980519811181198101baa0014bd700a6103d87a8000323232323232533302253330223375e605000466e95200233027375203e97ae015333022301c3024375400229445280a5013253330233371e6eb8c0a4c0a8c0a8c0a8c0a8c0a8c098dd50008058980819814000a5eb805300103d87a800032533302700115330244911a496e76616c6964206f6e652d776179207377617020646174756d00161325333028001153302549011a496e76616c6964206f6e652d776179207377617020646174756d00161325333029001153302649011a496e76616c6964206f6e652d776179207377617020646174756d0016132533302a001153302749011a496e76616c6964206f6e652d776179207377617020646174756d0016132533302b001153302849011a496e76616c6964206f6e652d776179207377617020646174756d0016132533302c001153302949011a496e76616c6964206f6e652d776179207377617020646174756d0016132533302d001153302a49011a496e76616c6964206f6e652d776179207377617020646174756d0016132533302e001153302b49011a496e76616c6964206f6e652d776179207377617020646174756d0016132533302f001153302c49011a496e76616c6964206f6e652d776179207377617020646174756d00161325333030001153302d49011a496e76616c6964206f6e652d776179207377617020646174756d00161325333031001153302e49011a496e76616c6964206f6e652d776179207377617020646174756d00161533303130340011301a33032374c01e660646ea4c070c0cc024cc0c8dd4980e1819804198191ba9301c30330063303237526038606600a660646ea4c070c0cc008cc0c8dd4980e1819800a5eb8054cc0b92411a496e76616c6964206f6e652d776179207377617020646174756d00163033001303200130310013030001302f001302e001302d001302c001302b001302a00153330223370e900218121baa0031325333023533333302b00114a229405280a5014a0264a666050002297ae010013758604c6466ec0dd418130009ba730270013754002297ae0302830253754006297ae014c103d87a80003027302800130233754604c008604a604c0046eacc090004c090004c07cdd518111811980f9baa302200230220013232533301a3370e9002180e1baa002132533301b3015301d3754002264a6660386014603c6ea80044dd71811180f9baa0010033021301e37540020046040603a6ea800800454cc06924012b536372697074206d757374206265206578656375746564206173207374616b65207769746864726177616c0016301e301f0033758603a603c603c00260326ea8c070004c060dd500691119299980c1803180d1baa0011480004dd6980f180d9baa0013253330183006301a37540022980103d87a8000132330010013756603e60386ea8008894ccc078004530103d87a8000132323232533301e337220100042a66603c66e3c0200084c02ccc08cdd4000a5eb80530103d87a8000133006006003375a60400066eb8c078008c088008c080004c8cc004004010894ccc0740045300103d87a8000132323232533301d337220100042a66603a66e3c0200084c028cc088dd3000a5eb80530103d87a80001330060060033756603e0066eb8c074008c084008c07c004dd2a40006e1d200225333012533333301a00114a029405280a5014a226eb800454cc04ccdcb24920436f756c64206e6f7420636f6e7665727420746f204279746541727261793a2000373266004002910100163001001222533333301a00213232323232323300d0020013371491010128000025333016337100069007099b80483c80400c54ccc058cdc4001a410004266e00cdc0241002800690068a9980ba4929576861742061726520796f7520646f696e673f204e6f2049206d65616e2c20736572696f75736c792e001653330190011337149101035b5d2900004133714911035b5f2000375c6036603866600e00266034980102415d003301a375266e2922010129000044bd70111980e26103422c20003301c375266601001000466e28dd718050009bae300b0014bd701bac3017002375a602a0026466ec0dd4180a8009ba730160013754004264a66602e002266e292201027b7d00002133714911037b5f2000375c6032603464646600200200644a6660340022006266446603a98103422c20003301d3752666012012603400466e292201023a2000333009009301b002337146eb8c02c004dd71806000a5eb80c070004cc008008c074004cc0613010342207d0033018375200497ae03756004264a66602e002266e29221025b5d00002133714911035b5f2000375c6032603466600a00266030980102415d0033018375200497ae0223301a4c0103422c20003301a375266600c00c00466e28dd718040009bae30090014bd701bac002133007375a0040022646466e292210268270000132333001001337006e3400920013371491101270000322253330163371000490000800899191919980300319b8000548004cdc599b80002533301933710004900a0a40c02903719b8b33700002a66603266e2000520141481805206e0043370c004901019b8300148080cdc70020011bae00222232330010010042253330170011004133003301900133002002301a0012301400123013301400122323300100100322533300f30090011337149110130000031533300f337100029000099b8a489012d003300200233702900000089980299b8400148050cdc599b803370a002900a240c00066002002444a66601866e2400920001001133300300333708004900a19b8b3370066e14009201448180004526153300a4911856616c696461746f722072657475726e65642066616c73650013656323300100100322533300d00114984c8cc00c00cc044008c8c94ccc02cc014c034dd500089929998080008a998068058b0991929998090008a998078068b0992999809980b0010a4c2a6602001c2c64a66666602e0022a6602001c2c2a6602001c2c2a6602001c2c2a6602001c2c26eb8004c050004c050008c94cccccc05400454cc0380305854cc0380305854cc0380305854cc038030584dd7000980900098071baa001153300c00a1653333330120011001153300b00916153300b00916153300b00916153300b00916300f001370e900029999998068008a998030020b0a998030020b09bac001153300600416153300600416375c0029211672656465656d65723a204c6973743c506172616d733e005734ae7155ceaab9e5573eae815d0aba257489811e581cd87d5887c22fa4989df9b49bd970e3b3db101baf972eb4ac2e8c58020001",
)

var ApolloEvalSample3UTxOs = []UTxO.UTxO{
	{
		Input: TransactionInput.TransactionInput{
			TransactionId: mustDecodeHex(
				"fa957d2b1dd37de2281dff8dd58c245baf1a7600067e3512056276c1787eb1e9",
			),
			Index: 0,
		},
		Output: TransactionOutput.TransactionOutput{
			IsPostAlonzo: true,
			PostAlonzo: TransactionOutput.TransactionOutputAlonzo{
				Address: evalSample3Addr1,
				Amount: assetsToApolloValue(4029850, map[string]int64{
					"aacd6c58a4894b4ca6c3ea429fcd4318b301d9c0eec7f031d08a0780": 1,
				}).ToAlonzoValue(),
				Datum:     datumHexToApolloDatumOption("d87980"),
				ScriptRef: evalSample3ScriptRef1,
			},
		},
	},
	{
		Input: TransactionInput.TransactionInput{
			TransactionId: mustDecodeHex(
				"23be0164e07ec84dea989dc4fb58017defc17849679b7dd36d59ae19d0e5a078",
			),
			Index: 0,
		},
		Output: TransactionOutput.TransactionOutput{
			IsPostAlonzo: true,
			PostAlonzo: TransactionOutput.TransactionOutputAlonzo{
				Address: evalSample3Addr2,
				Amount: assetsToApolloValue(26532360, map[string]int64{
					"a168982cd17c45df7c468b527c32b0d3f97b8c297184c8860445e8ee6f6e652d7761792d626561636f6e2d6465627567": 1,
				}).ToAlonzoValue(),
				Datum:     datumHexToApolloDatumOption("d87980"),
				ScriptRef: evalSample3ScriptRef2,
			},
		},
	},
	{
		Input: TransactionInput.TransactionInput{
			TransactionId: mustDecodeHex(
				"a8275eccb3dae1b8ae58837aa22d3c1cbe4df15e5ebc869bd0d710e50b6c44b0",
			),
			Index: 0,
		},
		Output: TransactionOutput.TransactionOutput{
			IsPostAlonzo: true,
			PostAlonzo: TransactionOutput.TransactionOutputAlonzo{
				Address: evalSample3Addr2,
				Amount: assetsToApolloValue(31519030, map[string]int64{
					"9e91cf1c285a3029a3517468025d2c9e3ec5a74928627a4603b6dd2d6f6e652d7761792d737761702d6465627567": 1,
				}).ToAlonzoValue(),
				Datum:     datumHexToApolloDatumOption("d87980"),
				ScriptRef: evalSample3ScriptRef3,
			},
		},
	},
	{
		Input: TransactionInput.TransactionInput{
			TransactionId: mustDecodeHex(
				"b8fd5caa1dc06c6bb1c713cf9f948012454cfdc028a34c47270dd253780fd20e",
			),
			Index: 0,
		},
		Output: TransactionOutput.TransactionOutput{
			IsPostAlonzo: true,
			PostAlonzo: TransactionOutput.TransactionOutputAlonzo{
				Address: evalSample3Addr2,
				Amount: assetsToApolloValue(16649530, map[string]int64{
					"8ed3a2a3871f49e25905cc7d057c94ecf6162e9502fc22caf30406ef6f6e652d7761792d666f727761726465722d6465627567": 1,
				}).ToAlonzoValue(),
				Datum:     datumHexToApolloDatumOption("d87980"),
				ScriptRef: evalSample3ScriptRef4,
			},
		},
	},
	{
		Input: TransactionInput.TransactionInput{
			TransactionId: mustDecodeHex(
				"9dec9370f3c40d5934f4ea67dcacf22f0cdb74acbbecf4638ae141748e9c6601",
			),
			Index: 0,
		},
		Output: TransactionOutput.TransactionOutput{
			IsPostAlonzo: true,
			PostAlonzo: TransactionOutput.TransactionOutputAlonzo{
				Address: evalSample3Addr3,
				Amount: assetsToApolloValue(2952350, map[string]int64{
					"aacd6c58a4894b4ca6c3ea429fcd4318b301d9c0eec7f031d08a07809cc2aa27327ee7b4ca48c0cf2fa035579cfc1d16fcc6222bd673b02dfc393e55": 1,
					"aacd6c58a4894b4ca6c3ea429fcd4318b301d9c0eec7f031d08a0780c784a5780f4637fa9027e6eedabc24e425a458a481b1be6ae4dee6d7081dbb7b": 1,
					"aacd6c58a4894b4ca6c3ea429fcd4318b301d9c0eec7f031d08a0780e6bc4fcf950a505075ce1e9206c48a58dbb4255fdafdec9617f12c538ed025b1": 1,
					"6af660f258a83733ab5bbf1c779286d3d9c7881ccad209fe6d0ffc9b4d5954455354544f4b454e32":                                         150000000,
				}).ToAlonzoValue(),
				Datum: datumHexToApolloDatumOption(
					"d8799f0058209cc2aa27327ee7b4ca48c0cf2fa035579cfc1d16fcc6222bd673b02dfc393e55581cc993b4822e24f62fbb291bef2feea56dc70d93122dcb15715b0427ae4c4d5954455354544f4b454e315820c784a5780f4637fa9027e6eedabc24e425a458a481b1be6ae4dee6d7081dbb7b581c6af660f258a83733ab5bbf1c779286d3d9c7881ccad209fe6d0ffc9b4c4d5954455354544f4b454e325820e6bc4fcf950a505075ce1e9206c48a58dbb4255fdafdec9617f12c538ed025b1d8799f0302ff581c5724eab01c199500967c1f96e827811e6618b9bf521f6b46c4270078582072b35c5f04b28f75518ef99c2fc9235d4b940849580d878510d3a24191c67b72ff",
				),
				ScriptRef: nil,
			},
		},
	},
	{
		Input: TransactionInput.TransactionInput{
			TransactionId: mustDecodeHex(
				"9dec9370f3c40d5934f4ea67dcacf22f0cdb74acbbecf4638ae141748e9c6601",
			),
			Index: 1,
		},
		Output: TransactionOutput.TransactionOutput{
			IsPostAlonzo: true,
			PostAlonzo: TransactionOutput.TransactionOutputAlonzo{
				Address: evalSample3Addr4,
				Amount: assetsToApolloValue(9997525540, map[string]int64{
					"c993b4822e24f62fbb291bef2feea56dc70d93122dcb15715b0427ae4d5954455354544f4b454e31": 2000000000,
					"6af660f258a83733ab5bbf1c779286d3d9c7881ccad209fe6d0ffc9b4d5954455354544f4b454e32": 2850000000,
				}).ToAlonzoValue(),
				Datum:     nil,
				ScriptRef: nil,
			},
		},
	},
}

var ApolloEvalSample3RedeemersExUnits = map[string]Redeemer.ExecutionUnits{
	"spend:0":      {Mem: 125172, Steps: 35018665},
	"mint:0":       {Mem: 53839, Steps: 19027408},
	"withdrawal:0": {Mem: 284465, Steps: 88839652},
	"withdrawal:1": {Mem: 72501, Steps: 20055562},
}

var ApolloEvalSample3Transaction = "84ac00828258209dec9370f3c40d5934f4ea67dcacf22f0cdb74acbbecf4638ae141748e9c6601008258209dec9370f3c40d5934f4ea67dcacf22f0cdb74acbbecf4638ae141748e9c66010101828258390091d2bdc73e1de0d2cc776d3dc4e58db5d0ebca3772dac052aa49fdc8c2ab6459a71e7172b510aadb5b60f6da53a7116e45ca7f60c4145a61821a002d0c9ea1581c6af660f258a83733ab5bbf1c779286d3d9c7881ccad209fe6d0ffc9ba14c4d5954455354544f4b454e321a08f0d1808258390091d2bdc73e1de0d2cc776d3dc4e58db5d0ebca3772dac052aa49fdc8c2ab6459a71e7172b510aadb5b60f6da53a7116e45ca7f60c4145a61821b0000000253dcc429a2581c6af660f258a83733ab5bbf1c779286d3d9c7881ccad209fe6d0ffc9ba14c4d5954455354544f4b454e321aa9df8c80581cc993b4822e24f62fbb291bef2feea56dc70d93122dcb15715b0427aea14c4d5954455354544f4b454e311a77359400021a00095dfb031a039152bc05a2581df05724eab01c199500967c1f96e827811e6618b9bf521f6b46c427007800581df0c0c837b81dd43f25cc77446ad70d669379bdab898d83922adff1d86500081a0391502809a1581caacd6c58a4894b4ca6c3ea429fcd4318b301d9c0eec7f031d08a0780a35820e6bc4fcf950a505075ce1e9206c48a58dbb4255fdafdec9617f12c538ed025b1205820c784a5780f4637fa9027e6eedabc24e425a458a481b1be6ae4dee6d7081dbb7b2058209cc2aa27327ee7b4ca48c0cf2fa035579cfc1d16fcc6222bd673b02dfc393e55200b58203c95151f49608a1dde1bc4cd4f25a50733e271792fec4b05f0f949ac599c8bb70d818258209dec9370f3c40d5934f4ea67dcacf22f0cdb74acbbecf4638ae141748e9c660101108258390091d2bdc73e1de0d2cc776d3dc4e58db5d0ebca3772dac052aa49fdc8c2ab6459a71e7172b510aadb5b60f6da53a7116e45ca7f60c4145a61821b000000025399d6e4a2581cc993b4822e24f62fbb291bef2feea56dc70d93122dcb15715b0427aea14c4d5954455354544f4b454e311a77359400581c6af660f258a83733ab5bbf1c779286d3d9c7881ccad209fe6d0ffc9ba14c4d5954455354544f4b454e321aa9df8c80111a004c4b401284825820fa957d2b1dd37de2281dff8dd58c245baf1a7600067e3512056276c1787eb1e90082582023be0164e07ec84dea989dc4fb58017defc17849679b7dd36d59ae19d0e5a07800825820a8275eccb3dae1b8ae58837aa22d3c1cbe4df15e5ebc869bd0d710e50b6c44b000825820b8fd5caa1dc06c6bb1c713cf9f948012454cfdc028a34c47270dd253780fd20e00a10584840000d87b80821a0001e8f41a021657a9840100d879808219d24f1a012255d08403009fd8799f581c91d2bdc73e1de0d2cc776d3dc4e58db5d0ebca3772dac052aa49fdc8581cc2ab6459a71e7172b510aadb5b60f6da53a7116e45ca7f60c4145a61ffff821a000457311a054b95e4840301d87980821a00011b351a0132060af5f6"

var ExpectedDatum = "d87b9fd8799fd8799f9f581ccef7fb5f89a9c76a65acdd746d9e84104d6f824d7dc44f427fcaa1dd581c4ad1571e7df63d4d6c49240c8372eb639f57c0ef669338c0d752f29b581cfc8d65bf083804fdea0c86ac09e3685cd733e38df3d880c6ce9ddd01581c26a0bd848342b6307f04b9de7458c3a65e9cdf7ba4a40292b75a2ec0ff1917701a001b77401a001b774018c81927101a000493e0d8799f186418c81864ff021905dcd8799f9f581c1a550d5f572584e1add125b5712f709ac3b9828ad86581a4759022baff01ffffffff"

var AddressToQuery = "addr_test1qrngfyc452vy4twdrepdjc50d4kvqutgt0hs9w6j2qhcdjfx0gpv7rsrjtxv97rplyz3ymyaqdwqa635zrcdena94ljs0xy950"
